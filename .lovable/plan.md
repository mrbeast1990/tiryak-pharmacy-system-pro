

# خطة إعادة تصميم صفحة إنشاء الطلبيات (High-Density Mobile UI)

## نظرة عامة
سيتم تحويل تصميم صفحة الطلبيات من جدول تقليدي إلى قائمة عمودية مضغوطة وعصرية تتيح عرض 8-10 أصناف في الشاشة الواحدة، مع تصميم احترافي بألوان طبية (Teal) ودعم كامل للعربية (RTL).

---

## 1. تصميم الترويسة الجديدة (Header)

```text
┌─────────────────────────────────────────────────────────────┐
│  ←  │  🛒  إنشاء الطلبيات   │                               │
├─────────────────────────────────────────────────────────────┤
│   ┌──────────────────────────────────────────────────┐     │
│   │  🔍  بحث سريع...                                 │     │
│   └──────────────────────────────────────────────────┘     │
└─────────────────────────────────────────────────────────────┘
```

**المواصفات:**
- خلفية Teal متدرجة (bg-gradient-to-l from-teal-600 to-teal-500)
- نص أبيض مع أيقونات عصرية
- شريط بحث مستدير داخل الترويسة مباشرة
- ارتفاع مضغوط (py-2) للترويسة

---

## 2. تصميم صف الصنف الجديد (Compact Item Row)

```text
┌─────────────────────────────────────────────────────────────┐
│  ┌─────────────────────────────┐   ┌─────────────────────┐ │
│  │ Paracetamol 500mg Tablets   │   │  ⊕  1  ⊖            │ │
│  │ السعر: 11.75 د.ل | EXP: 46874│   │   0.00 د.ل          │ │
│  └─────────────────────────────┘   └─────────────────────┘ │
├─────────────────────────────────────────────────────────────┤
│  ┌─────────────────────────────┐   ┌─────────────────────┐ │
│  │ Abilify                     │   │  ⊕  1  ⊖            │ │
│  │ السعر: 11.75 د.ل | EXP: 46874│   │   0.00 د.ل          │ │
│  └─────────────────────────────┘   └─────────────────────┘ │
└─────────────────────────────────────────────────────────────┘
```

**التصميم:**
- **الجانب الأيمن (RTL):** 
  - اسم الصنف بخط عريض (font-semibold)
  - سطر فرعي بخط صغير رمادي: `السعر: XX.XX د.ل | EXP: XXXXX`
- **الجانب الأيسر:**
  - أزرار دائرية (⊕ و ⊖) بلون Teal
  - الرقم بينهما
  - الإجمالي أسفل الأزرار
- **المسافات:** تقليل padding (py-2 بدل py-4)
- **لون الخلفية:** emerald-50 للصنف المحدد (quantity > 0)

---

## 3. تصميم الشريط السفلي (Floating Footer)

```text
┌─────────────────────────────────────────────────────────────┐
│  ┌────────────────────────────────┐  ┌──────────────────┐  │
│  │  تصدير ومشاركة               │  │ 0 صنف محدد       │  │
│  │  [زر Teal مستدير]             │  │ 0.00 د.ل          │  │
│  └────────────────────────────────┘  └──────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

**المواصفات:**
- خلفية بيضاء مع ظل علوي (shadow-lg)
- زر "تصدير ومشاركة" بلون Teal على اليسار
- عدد الأصناف والإجمالي على اليمين
- تصميم أفقي مع flexbox

---

## 4. التغييرات التقنية

### أ. `OrderBuilder.tsx` - إعادة هيكلة الصفحة
- تبسيط الترويسة ودمج البحث فيها
- إزالة SupplierSelector و FileUploader للحصول على تصميم أنظف
- إضافة زر لعرض/إخفاء أدوات الرفع

### ب. `ProductsTable.tsx` - تحويل لقائمة مضغوطة
- إزالة الجدول (table) واستبداله بـ div list
- تصميم RTL مع flexbox
- إزالة أعمدة NO و CODE

### ج. `ProductRow.tsx` - تصميم صف جديد مضغوط
- تقسيم إلى قسمين: المعلومات (يمين) والتحكم (يسار)
- أزرار دائرية للكمية
- ارتفاع مضغوط (h-14 بدل h-20)

### د. `OrderSummary.tsx` - تبسيط الشريط السفلي
- زر واحد فقط (تصدير ومشاركة)
- تصميم أفقي بسيط

---

## 5. ملخص الملفات المتأثرة

| الملف | نوع التعديل |
|-------|-------------|
| `src/components/order-builder/OrderBuilder.tsx` | إعادة هيكلة الترويسة |
| `src/components/order-builder/ProductsTable.tsx` | تحويل لقائمة عمودية |
| `src/components/order-builder/ProductRow.tsx` | تصميم صف مضغوط جديد |
| `src/components/order-builder/OrderSummary.tsx` | تبسيط الشريط السفلي |
| `src/components/order-builder/CompactProductItem.tsx` | مكون جديد للصنف المضغوط |

---

## 6. مقارنة التصميم

| الميزة | التصميم الحالي | التصميم الجديد |
|--------|---------------|---------------|
| نوع العرض | جدول HTML | قائمة عمودية |
| الأصناف في الشاشة | 4-5 | 8-10 |
| أزرار الكمية | مربعة صغيرة | دائرية كبيرة |
| البحث | داخل البطاقة | في الترويسة |
| الألوان | emerald متعدد | Teal موحد |
| اتجاه الأزرار | LTR | RTL |

---

## 7. ملاحظات تقنية

1. **الخط:** استخدام Cairo الموجود بالفعل في المشروع

2. **الألوان:** 
   - Primary: teal-600 (#0d9488)
   - Background: teal-50/100
   - Text: slate-800 للعناوين، slate-500 للفرعي

3. **الأزرار:** 
   - حجم كبير للضغط السهل (h-8 w-8)
   - أزرار + بلون teal-600
   - أزرار - بلون slate-400

4. **التوافق مع PDF:** لا تغيير على منطق التصدير - يظل كما هو

