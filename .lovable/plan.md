

# خطة إضافة خاصية "نسيت كلمة المرور"

## الملخص
إضافة خاصية استعادة كلمة المرور في صفحة تسجيل الدخول باستخدام Supabase Auth.

## التغييرات المطلوبة

### 1. تحديث صفحة تسجيل الدخول (LoginForm.tsx)

**إضافة رابط "نسيت كلمة المرور":**
- إضافة رابط نصي بين حقل كلمة المرور وزر تسجيل الدخول
- عند النقر يفتح نافذة حوار لإدخال البريد الإلكتروني

**إضافة نافذة حوار Dialog:**
- حقل لإدخال البريد الإلكتروني
- زر لإرسال رابط إعادة التعيين
- رسائل نجاح/خطأ مناسبة

### 2. إنشاء صفحة إعادة تعيين كلمة المرور

**ملف جديد: `src/pages/ResetPassword.tsx`**
- صفحة لإدخال كلمة المرور الجديدة
- التحقق من تطابق كلمتي المرور
- تحديث كلمة المرور عبر Supabase

### 3. تحديث التوجيه (App.tsx)

- إضافة مسار `/reset-password` للصفحة الجديدة

## تفاصيل التنفيذ

### رابط نسيت كلمة المرور
```text
موضع الرابط: بين "تذكرني" وزر "تسجيل الدخول"
النص: "نسيت كلمة المرور؟" / "Forgot Password?"
```

### نافذة إدخال البريد
```text
+----------------------------------+
|     نسيت كلمة المرور؟           |
+----------------------------------+
| أدخل بريدك الإلكتروني وسنرسل    |
| لك رابط لإعادة تعيين كلمة المرور |
|                                  |
| [حقل البريد الإلكتروني]         |
|                                  |
| [إرسال رابط الاستعادة]          |
+----------------------------------+
```

### صفحة إعادة التعيين
```text
+----------------------------------+
|     إعادة تعيين كلمة المرور      |
+----------------------------------+
| [كلمة المرور الجديدة]           |
| [تأكيد كلمة المرور]             |
|                                  |
| [تحديث كلمة المرور]             |
+----------------------------------+
```

## الملفات المتأثرة

| الملف | التغيير |
|-------|---------|
| `src/components/LoginForm.tsx` | إضافة رابط ونافذة حوار |
| `src/pages/ResetPassword.tsx` | ملف جديد |
| `src/App.tsx` | إضافة المسار الجديد |

## ملاحظات تقنية

- استخدام `supabase.auth.resetPasswordForEmail()` لإرسال رابط الاستعادة
- استخدام `supabase.auth.updateUser()` لتحديث كلمة المرور
- `window.location.origin` للحصول على عنوان الموقع للتوجيه الصحيح
- دعم اللغتين العربية والإنجليزية

