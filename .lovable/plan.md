

# Ø¥Ø¶Ø§ÙØ© Ø®ÙŠØ§Ø± "Ù‚ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨" Ù„Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ù†ÙˆØ§Ù‚Øµ

## Ø§Ù„ÙÙƒØ±Ø©
Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙˆØ¯ `is_ordered` (boolean) ÙÙŠ Ø¬Ø¯ÙˆÙ„ `medicines` ÙÙŠ SupabaseØŒ ÙˆØ²Ø± "Ù‚ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨" ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· Ù„Ù…Ù† ÙŠÙ…Ù„Ùƒ ØµÙ„Ø§Ø­ÙŠØ© `manage_users` (Ø§Ù„Ù…Ø¯ÙŠØ±). Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„ÙŠÙ‡ ÙŠØªØ­ÙˆÙ„ Ù„ÙˆÙ† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© Ø¥Ù„Ù‰ Ø³Ù…Ø§ÙˆÙŠ Ù…Ø¹ Ø£Ù†ÙŠÙ…ÙŠØ´Ù† Ù†Ø¨Ø¶ Ø¹Ù„Ù‰ ÙƒÙ„Ù…Ø© "Ù‚ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨"ØŒ ÙˆÙŠØ¸Ù‡Ø± Ù‡Ø°Ø§ Ø§Ù„ØªØºÙŠÙŠØ± Ù„Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†.

## Ø§Ù„ØªØ¹Ø¯ÙŠÙ„Ø§Øª

### 1. Migration Ø¬Ø¯ÙŠØ¯ Ù„Ù€ Supabase
Ø¥Ø¶Ø§ÙØ© Ø¹Ù…ÙˆØ¯ `is_ordered BOOLEAN DEFAULT FALSE` Ù„Ø¬Ø¯ÙˆÙ„ `medicines`.

### 2. ØªØ­Ø¯ÙŠØ« `src/integrations/supabase/types.ts`
Ø¥Ø¶Ø§ÙØ© `is_ordered: boolean | null` ÙÙŠ Row/Insert/Update Ù„Ø¬Ø¯ÙˆÙ„ medicines.

### 3. ØªØ­Ø¯ÙŠØ« `src/store/pharmacyStore.ts`
- Ø¥Ø¶Ø§ÙØ© `is_ordered` ÙÙŠ type `Medicine`
- Ø¥Ø¶Ø§ÙØ© `is_ordered` ÙÙŠ `updateMedicine` accepted fields

### 4. ØªØ¹Ø¯ÙŠÙ„ `src/components/shortage/SwipeableMedicineCard.tsx`
**Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:**
- Ø¥Ø¶Ø§ÙØ© prop `canMarkOrdered` (Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ ØµÙ„Ø§Ø­ÙŠØ© `manage_users`)
- Ø¥Ø¶Ø§ÙØ© prop `onToggleOrdered`
- Ø¹Ù†Ø¯Ù…Ø§ `medicine.is_ordered === true`:
  - Ù„ÙˆÙ† Ø§Ù„Ø¨Ø·Ø§Ù‚Ø© ÙŠØªØ­ÙˆÙ„ Ø¥Ù„Ù‰ `bg-sky-50 border-sky-300` (Ø³Ù…Ø§ÙˆÙŠ) Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† Ù„ÙˆÙ† Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ©
  - Ø´Ø±ÙŠØ· Ø§Ù„Ø£ÙˆÙ„ÙˆÙŠØ© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ ÙŠØµØ¨Ø­ `bg-sky-500`
  - Ø¸Ù‡ÙˆØ± badge "Ù‚ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨" Ø¨Ø£Ù†ÙŠÙ…ÙŠØ´Ù† `animate-pulse` Ù…Ø¹ ØªØ£Ø«ÙŠØ± ØªØ¯Ø±Ø¬ Ø´ÙØ§ÙÙŠØ©
- Ø¥Ø¹Ø§Ø¯Ø© ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø³ÙÙ„ÙŠØ©:
  - ØªØµØºÙŠØ± Ù†Øµ "ØªÙ… Ø§Ù„ØªÙˆÙÙŠØ±" ÙˆØ­Ø°Ù Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø³Ù„Ø© Ø§Ù„Ù…Ù‡Ù…Ù„Ø§Øª (Trash2) Ù…Ù† Ù…ÙƒØ§Ù†Ù‡Ø§ Ø§Ù„Ø­Ø§Ù„ÙŠ
  - Ø¥Ø¶Ø§ÙØ© Ø²Ø± "Ù‚ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨" (Ø£ÙŠÙ‚ÙˆÙ†Ø© ğŸ“¦ Ø£Ùˆ Clock) Ù„Ù„Ù…Ø¯ÙŠØ± ÙÙ‚Ø·ØŒ ÙŠØ¹Ù…Ù„ ÙƒÙ€ toggle
  - ØªØ±ØªÙŠØ¨: `[Ù‚ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨] [Ø­Ø°Ù] [ØªÙ… Ø§Ù„ØªÙˆÙÙŠØ±]`

### 5. ØªØ¹Ø¯ÙŠÙ„ `src/components/ShortageManager.tsx`
- Ø¥Ø¶Ø§ÙØ© Ø¯Ø§Ù„Ø© `handleToggleOrdered` ØªØ³ØªØ¯Ø¹ÙŠ `updateMedicine(id, { is_ordered: !current })`
- ØªÙ…Ø±ÙŠØ± `canMarkOrdered` Ùˆ `onToggleOrdered` Ø¥Ù„Ù‰ `SwipeableMedicineCard`

### 6. Ø¥Ø¶Ø§ÙØ© CSS animation ÙÙŠ `src/index.css`
```css
@keyframes ordered-pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}
.animate-ordered-pulse {
  animation: ordered-pulse 2s ease-in-out infinite;
}
```

## ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ ÙÙŠ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø©
```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–  Ø§Ø³Ù… Ø§Ù„Ø¯ÙˆØ§Ø¡              [âœï¸] [Ø¹Ø§Ø¯ÙŠ]  â”‚
â”‚   Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø¹Ù„Ù…ÙŠ                          â”‚
â”‚ 28/02/2026 â€¢ Ø£Ø­Ù…Ø¯   [Ù‚ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨][ØªÙˆÙÙŠØ±] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
- Ø²Ø± "Ø­Ø°Ù" ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· Ù„Ù„Ù…Ø¯ÙŠØ± ÙˆÙŠØ¨Ù‚Ù‰ Ø¨Ø£ÙŠÙ‚ÙˆÙ†Ø© ÙÙ‚Ø· (Ø¨Ø¯ÙˆÙ† Ù†Øµ) Ù„ØªÙˆÙÙŠØ± Ø§Ù„Ù…Ø³Ø§Ø­Ø©
- Ø²Ø± "ØªÙ… Ø§Ù„ØªÙˆÙÙŠØ±" ÙŠØµØ¨Ø­ Ø£ØµØºØ± (text-[10px])
- Ø²Ø± "Ù‚ÙŠØ¯ Ø§Ù„Ø·Ù„Ø¨" ÙŠØ¸Ù‡Ø± Ù„Ù„Ù…Ø¯ÙŠØ± ÙÙ‚Ø· ÙƒÙ€ toggle

